# راهنمای به‌روزرسانی انتخاب محصول در فرم ورودی

## مشکل قبلی
در فرم ورودی محصولات، فقط می‌توانستید نام و رنگ محصول را دستی تایپ کنید و قادر به انتخاب از محصولات قبلی نبودید.

## راه‌حل پیاده‌سازی شده

### 1. اضافه شدن dropdown انتخاب محصول
- یک dropdown جدید با ID `entry-product-select` اضافه شده است
- این dropdown شامل گزینه‌های زیر است:
  - "انتخاب محصول موجود یا محصول جدید" (گزینه پیش‌فرض)
  - "➕ محصول جدید" (برای ایجاد محصول جدید)
  - لیست تمام محصولات موجود با نمایش موجودی فعلی

### 2. توابع جدید اضافه شده

#### `updateEntryProductSelect()`
این تابع لیست محصولات را در dropdown به‌روزرسانی می‌کند و شامل:
- تمام محصولات موجود با ID، نام، رنگ و موجودی فعلی
- گزینه "محصول جدید" برای ایجاد محصول جدید

#### `onEntryProductSelect()`
این تابع زمانی که کاربر محصولی را از dropdown انتخاب می‌کند اجرا می‌شود:
- اگر "محصول جدید" انتخاب شود: فیلدها خالی می‌شوند
- اگر محصول موجود انتخاب شود: فیلدها با اطلاعات محصول پر می‌شوند

#### `clearEntryForm()`
این تابع تمام فیلدهای فرم ورودی را پاک می‌کند:
- dropdown محصول
- نام محصول
- رنگ محصول  
- تعداد (به مقدار 1 برمی‌گردد)

### 3. به‌روزرسانی‌های اعمال شده

#### در `addEntry()`:
- فرم بعد از افزودن موفق پاک می‌شود
- لیست محصولات به‌روزرسانی می‌شود
- موجودی محصولات محاسبه مجدد می‌شود

#### در `cancelEntry()`:
- فرم ورودی کامل پاک می‌شود
- لیست محصولات به‌روزرسانی می‌شود

#### در `showTab()`:
- زمانی که تب ورودی نمایش داده می‌شود، `updateEntryProductSelect()` فراخوانی می‌شود

#### در `init()`:
- در زمان لود صفحه، `updateEntryProductSelect()` فراخوانی می‌شود

## نحوه استفاده

### برای افزودن محصول موجود:
1. روی dropdown "انتخاب محصول" کلیک کنید
2. محصول مورد نظر را از لیست انتخاب کنید
3. فیلدهای نام و رنگ به صورت خودکار پر می‌شوند
4. تعداد مورد نظر را وارد کنید
5. روی "➕ افزودن" کلیک کنید

### برای افزودن محصول جدید:
1. روی dropdown "انتخاب محصول" کلیک کنید
2. "➕ محصول جدید" را انتخاب کنید
3. نام محصول جدید را وارد کنید
4. رنگ محصول را وارد کنید
5. تعداد مورد نظر را وارد کنید
6. روی "➕ افزودن" کلیک کنید

## مزایای به‌روزرسانی
- ✅ انتخاب آسان‌تر از محصولات قبلی
- ✅ جلوگیری از ایجاد محصولات تکراری
- ✅ نمایش موجودی فعلی در لیست
- ✅ رابط کاربری هماهنگ با فرم‌های فروش
- ✅ کاهش خطای تایپ در نام و رنگ محصولات

## تست عملکرد
- سرور در پورت 8003 در حال اجرا است
- آدرس: http://localhost:8003/index.html
- کامیت: be474d6 "Add product selection dropdown to entry form"

## نکات مهم
- لیست محصولات به صورت خودکار به‌روزرسانی می‌شود
- موجودی نمایش داده شده، موجودی واقعی بر اساس ورودی‌ها و فروش‌ها است
- فرم بعد از هر افزودن موفق به صورت خودکار پاک می‌شود
